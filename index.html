<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeydiKi Social</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="top-nav.css">
    <link rel="stylesheet" href="nav-bar.css">
    <link rel="stylesheet" href="account.css">

    <script>
        (function() {
            const savedTheme = localStorage.getItem('theme');
            const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            const theme = savedTheme || systemTheme;
            document.documentElement.setAttribute('data-theme', theme);
        })();
    </script>
</head>
<body>

    <header class="top-nav">
        <div class="logo">
            <img src="img/logo_neydiki.png" alt="NeydiKi" class="logo-image">
        </div>
        
        <div class="search-container">
            <input type="text" class="search-input" placeholder="G√∂nderi, kullanƒ±cƒ± veya etiket ara...">
            <button class="search-btn">
                <i class="fas fa-search"></i>
            </button>
        </div>
        
        <nav class="nav-icons" aria-label="√úst navigasyon">
            <button class="nav-icon" id="dark-mode-toggle" aria-label="Karanlƒ±k modu deƒüi≈ütir">
                <i class="fas fa-moon" id="dark-mode-icon" aria-hidden="true"></i>
            </button>
            <button class="nav-icon" id="settings-btn" aria-label="Ayarlarƒ± a√ß">
                <i class="fas fa-cog" aria-hidden="true"></i>
            </button>
        </nav>
    </header>
    
    <div id="content-area">
        
        <div class="main-content" id="home-content">
            <div class="content-header">
                <h2>Akƒ±≈ü</h2>
                <p>Topluluktan en g√ºncel payla≈üƒ±mlar</p>
            </div>
            
            <div class="home-content-wrapper">
                <div class="home-main-content">
                    <div class="filters-container">
                        <button class="mobile-filter-btn" id="mobile-filter-toggle">
                            <i class="fas fa-filter"></i>
                            Filtrele & Sƒ±rala
                            <span class="filter-badge" id="active-filter-count">0</span>
                        </button>
                    </div>
                    
                    <div class="content-grid" id="image-feed">
                        </div>
                </div>
                
                <div class="filters-sidebar" id="filters-sidebar">
                    <div class="filters-header">
                        <h3 class="filters-title">
                            <i class="fas fa-layer-group"></i>
                            Filtreler
                        </h3>
                        <button class="close-btn" id="close-filters">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="filters-scroll-content">
                        <div class="filter-group">
                            <div class="filter-group-title">
                                <i class="fas fa-clock"></i>
                                Zaman Sƒ±ralamasƒ±
                            </div>
                            <div class="filter-options">
                                <div class="filter-option active" data-filter="timeSort" data-value="newest">
                                    <div class="filter-checkbox radio"></div>
                                    <span>En Yeni</span>
                                </div>
                                <div class="filter-option" data-filter="timeSort" data-value="oldest">
                                    <div class="filter-checkbox radio"></div>
                                    <span>En Eski</span>
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <div class="filter-group-title">
                                <i class="fas fa-fire"></i>
                                Pop√ºlerlik
                            </div>
                            <div class="filter-options">
                                <div class="filter-option" data-filter="featureSort" data-value="most-liked">
                                    <div class="filter-checkbox"></div> <span>En √áok Beƒüenilen</span>
                                </div>
                                <div class="filter-option" data-filter="featureSort" data-value="most-commented">
                                    <div class="filter-checkbox"></div> <span>En √áok Tartƒ±≈üƒ±lan</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="filter-group">
                            <div class="filter-group-title">
                                <i class="fas fa-calendar-alt"></i>
                                Tarih Aralƒ±ƒüƒ±
                            </div>
                            <div class="date-range-container">
                                <div class="date-input-group">
                                    <label>Ba≈ülangƒ±√ß Tarihi</label>
                                    <input type="date" id="filter-start-date" class="date-input">
                                </div>
                                <div class="date-input-group">
                                    <label>Biti≈ü Tarihi</label>
                                    <input type="date" id="filter-end-date" class="date-input">
                                </div>
                            </div>
                        </div>

                        <div class="filter-group">
                            <div class="filter-group-title">
                                <i class="fas fa-photo-video"></i>
                                ƒ∞√ßerik T√ºr√º
                            </div>
                            <div class="filter-options">
                                <div class="filter-option" data-filter="mediaType" data-value="image">
                                    <div class="filter-checkbox"></div>
                                    <span>G√∂rsel Payla≈üƒ±mlar</span>
                                </div>
                                <div class="filter-option" data-filter="mediaType" data-value="text">
                                    <div class="filter-checkbox"></div>
                                    <span>Sadece Yazƒ±</span>
                                </div>
                            </div>
                        </div>

                        <div class="filter-tags-container">
                            <div class="filter-group-title">
                                <i class="fas fa-check-circle"></i>
                                Aktif Filtreler
                            </div>
                            <div class="filter-tags" id="active-filters">
                                <div class="no-filters">Hen√ºz filtre se√ßilmedi</div>
                            </div>
                        </div>
                        
                        <div style="height: 20px;"></div>
                    </div> 

                    <div class="filter-actions">
                        <button class="filter-btn secondary" id="clear-filters">
                            <i class="fas fa-undo"></i>
                            Sƒ±fƒ±rla
                        </button>
                        <button class="filter-btn primary" id="apply-filters">
                            <i class="fas fa-check"></i>
                            Uygula
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="main-content" id="profile-content" style="display: none;">
            <div class="content-header">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <div class="user-avatar large" id="profile-avatar-img"></div>
                    </div>
                    <div class="profile-info">
                        <h2 id="profile-username">kullanici</h2>
                        <div class="profile-stats">
                            <div class="stat"><span class="count" id="post-count">0</span><span class="label">G√∂nderi</span></div>
                            <div class="stat"><span class="count" id="follower-count">0</span><span class="label">Takip√ßi</span></div>
                            <div class="stat"><span class="count" id="following-count">0</span><span class="label">Takip</span></div>
                        </div>
                        <div class="profile-bio">
                            <p id="profile-bio-text">...</p>
                            <p id="profile-location">üìç Konum</p>
                        </div>
                        <div class="profile-actions">
                            <button class="edit-profile-btn" id="edit-profile-btn" style="display:none;">Profili D√ºzenle</button> 
                        </div>
                    </div>
                </div>
            </div>
            <div class="profile-tabs">
                <button class="tab-btn active" data-tab="posts">G√∂nderiler</button>
                <button class="tab-btn" data-tab="saved">Kaydedilenler</button>
                <button class="tab-btn" data-tab="tagged">Etiketlendim</button>
            </div>
            <div class="profile-grid" id="posts-tab"></div>
            <div class="profile-grid" id="saved-tab" style="display: none;"></div>
            <div class="profile-grid" id="tagged-tab" style="display: none;"></div>
        </div>

        <div class="main-content" id="account-content" style="display: none;">
            <div class="auth-forms">
                <div id="auth-loading" class="auth-loading">
                    <div class="feed-spinner"></div>
                    <p>Hesap bilgileri y√ºkleniyor...</p>
                </div>

                <div id="login-account-form" class="auth-form">
                    <div id="login-error-msg" class="error-message" style="display:none;"></div>
                    
                    <div class="form-group input-with-icon">
                        <label for="account-username"><i class="fas fa-user"></i> Kullanƒ±cƒ± Adƒ± veya E-posta</label>
                        <input type="text" id="account-username" placeholder="Kullanƒ±cƒ± adƒ±nƒ±z veya e-posta">
                    </div>
                    <div class="form-group input-with-icon">
                        <label for="account-password"><i class="fas fa-lock"></i> ≈ûifre</label>
                        <input type="password" id="account-password" placeholder="≈ûifreniz">
                    </div>
                    <button class="submit-btn full-width" id="account-login-btn"><i class="fas fa-sign-in-alt"></i> Giri≈ü Yap</button>
                    
                    <div class="forgot-password-container">
                        <span id="forgot-password-btn" class="forgot-password-link">Parolamƒ± Unuttum?</span>
                    </div>
                    
                    <div class="auth-switch">Hesabƒ±n yok mu? <span class="switch-auth" data-form="register">Kayƒ±t Ol</span></div>
                </div>

                <div id="register-account-form" class="auth-form">
                    <div class="age-warning" id="age-warning" style="display: none;">
                        <i class="fas fa-exclamation-triangle"></i><span>15 ya≈üƒ±ndan k√º√ß√ºkler platformu kullanamaz</span>
                    </div>

                    <div class="form-group input-with-icon">
                        <label for="register-email"><i class="fas fa-envelope"></i> E-posta</label>
                        <input type="email" id="register-email" placeholder="E-posta adresiniz">
                    </div>
                    <div class="form-group input-with-icon">
                        <label for="register-username"><i class="fas fa-user"></i> Kullanƒ±cƒ± Adƒ±</label>
                        <input type="text" id="register-username" placeholder="Kullanƒ±cƒ± adƒ±nƒ±z">
                    </div>
                    <div class="form-group input-with-icon password-toggle">
                        <label for="register-password"><i class="fas fa-lock"></i> ≈ûifre</label>
                        <input type="password" id="register-password" placeholder="≈ûifreniz (en az 6 karakter)">
                        <button type="button" class="password-toggle-btn" id="toggle-register-password">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="register-firstname">Ad</label>
                            <input type="text" id="register-firstname" placeholder="Adƒ±nƒ±z">
                        </div>
                        <div class="form-group">
                            <label for="register-lastname">Soyad</label>
                            <input type="text" id="register-lastname" placeholder="Soyadƒ±nƒ±z">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="register-birthdate">Doƒüum Tarihi</label>
                        <div class="birthdate-inputs">
                            <select id="register-birthday"><option value="">G√ºn</option></select>
                            <select id="register-birthmonth"><option value="">Ay</option></select>
                            <select id="register-birthyear"><option value="">Yƒ±l</option></select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="register-gender">Cinsiyet</label>
                        <select id="register-gender">
                            <option value="">Se√ßiniz</option>
                            <option value="male">Erkek</option>
                            <option value="female">Kadƒ±n</option>
                            <option value="other">Diƒüer</option>
                            <option value="prefer_not_to_say">Belirtmek ƒ∞stemiyorum</option>
                        </select>
                    </div>
                    <button class="submit-btn full-width" id="account-register-btn"><i class="fas fa-user-plus"></i> Kayƒ±t Ol</button>
                    <div class="auth-switch">Zaten hesabƒ±n var mƒ±? <span class="switch-auth" data-form="login">Giri≈ü Yap</span></div>
                </div>

                <div id="forgot-password-form" class="auth-form" style="display: none;">
                    <div class="form-group input-with-icon">
                        <p style="margin-bottom: 20px; color: var(--text-light); text-align: center; font-size: 14px; line-height: 1.5;">
                            Hesabƒ±nƒ±za kayƒ±tlƒ± e-posta adresinizi girin. Size bir sƒ±fƒ±rlama baƒülantƒ±sƒ± g√∂ndereceƒüiz.
                        </p>
                        <label for="forgot-email">
                            <i class="fas fa-envelope"></i>
                            E-posta Adresi
                        </label>
                        <input type="email" id="forgot-email" placeholder="E-posta adresiniz">
                    </div>
                    
                    <button class="submit-btn full-width" id="send-reset-btn">
                        <i class="fas fa-paper-plane"></i>
                        Baƒülantƒ±yƒ± G√∂nder
                    </button>
                    
                    <div class="auth-switch">
                        <span class="switch-auth" data-form="login">
                            <i class="fas fa-arrow-left"></i> Giri≈ü Ekranƒ±na D√∂n
                        </span>
                    </div>
                </div>

                <div id="account-info" class="account-info" style="display: none;">
                    <div class="account-header">
                        <div class="account-avatar">
                            <div class="user-avatar large" id="account-avatar"></div>
                        </div>
                        <div class="account-details">
                            <h3 id="account-fullname">Kullanƒ±cƒ±</h3>
                            <p id="account-username-display" style="color: rgba(255,255,255,0.9); font-weight: 600; font-size: 14px; margin-bottom: 5px;">@kullaniciadi</p>
                            <p id="account-email">...</p>
                            <p class="member-since"><i class="fas fa-calendar-check"></i> √úyelik: <span id="member-since">...</span></p>
                        </div>
                    </div>
                    <div class="account-stats">
                        <div class="account-stat"><i class="fas fa-images"></i><strong id="account-posts">0</strong><span>G√∂nderi</span></div>
                        <div class="account-stat"><i class="fas fa-heart"></i><strong id="account-likes">0</strong><span>Beƒüeni</span></div>
                        <div class="account-stat"><i class="fas fa-calendar-day"></i><strong id="account-days">0</strong><span>G√ºnd√ºr √ºye</span></div>
                    </div>
                    <div class="account-actions">
                        <button class="account-btn secondary" id="edit-account-btn"><i class="fas fa-edit"></i> Bilgilerimi D√ºzenle</button>
                        <button class="account-btn primary" id="upgrade-premium-btn"><i class="fas fa-crown"></i> Premium Y√ºkselt</button>
                        <button class="account-btn warning" id="logout-btn"><i class="fas fa-sign-out-alt"></i> √áƒ±kƒ±≈ü Yap</button>
                        <button class="account-btn danger" id="delete-account-btn"><i class="fas fa-trash-alt"></i> Hesabƒ±mƒ± Sil</button>
                    </div>
                    <div class="account-posts-section">
                        <h3 class="section-title"><i class="fas fa-photo-video"></i> G√∂nderi Y√∂netimi</h3>
                        <div class="post-management-actions">
                            <button class="action-btn primary" id="add-new-post-btn"><i class="fas fa-plus"></i> Yeni G√∂nderi Ekle</button>
                        </div>
                        <div class="account-posts-grid" id="account-posts-grid"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="floating-nav">
        <div class="nav-container">
            <div class="nav-item active" id="home-nav">
                <div class="nav-icon"><i class="fas fa-home"></i></div>
                <div class="nav-label">Ana Sayfa</div>
            </div>
            <div class="nav-item" id="add-post-nav">
                <div class="nav-icon"><i class="fas fa-plus-square"></i></div>
                <div class="nav-label">Ekle</div>
            </div>
            <div class="nav-item" id="account-nav">
                <div class="nav-icon"><i class="fas fa-user"></i></div>
                <div class="nav-label">Hesap</div>
            </div>
        </div>
    </div>
    
    <div class="modal" id="add-post-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Yeni G√∂nderi</h3>
                <div class="close-btn" id="close-add-post">√ó</div>
            </div>
            <div class="file-upload" id="image-upload-area">
                <i class="fas fa-cloud-upload-alt"></i>
                <div class="file-upload-text">G√∂rsel se√ßmek i√ßin dokun</div>
                <img id="image-preview" style="display: none; max-width: 100%; max-height: 300px; margin-top: 15px; border-radius: 8px;">
            </div>
            <div class="form-group">
                <label for="post-caption">A√ßƒ±klama</label>
                <input type="text" id="post-caption" placeholder="Bir ≈üeyler yaz...">
            </div>
            <button class="submit-btn" id="share-post-btn">Payla≈ü</button>
        </div>
    </div>

    <div class="modal" id="discussion-modal">
        <div class="modal-content discussion-modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Tartƒ±≈üma</h3>
                <div class="close-btn" id="close-discussion">√ó</div>
            </div>
            <div class="discussion-image-container">
                <div id="discussion-image"></div>
            </div>
            <div class="discussion-content">
                <div class="post-caption" id="discussion-caption"></div>
                <div class="comments-section">
                    <div class="comments-list" id="comments-list"></div>
                </div>
                <div class="add-comment">
                    <input type="text" id="comment-input" placeholder="Yorumunuzu yazƒ±n...">
                    <button id="submit-comment"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="edit-profile-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Profili D√ºzenle</h3>
                <div class="close-btn" id="close-edit-profile">√ó</div>
            </div>
            
            <div class="edit-profile-image-section">
                <div class="edit-avatar-preview" id="edit-avatar-preview">
                    <i class="fas fa-user"></i>
                </div>
                <div class="edit-avatar-actions">
                    <label for="edit-profile-upload" class="upload-btn-label">
                        <i class="fas fa-camera"></i> Fotoƒüraf Se√ß
                    </label>
                    <input type="file" id="edit-profile-upload" accept="image/*" hidden>
                    <button id="remove-profile-pic" class="remove-pic-btn" style="display:none;">Fotoƒürafƒ± Kaldƒ±r</button>
                </div>
            </div>

            <div class="form-group"><label for="edit-username">Kullanƒ±cƒ± Adƒ±</label><input type="text" id="edit-username" placeholder="Kullanƒ±cƒ± adƒ±"></div>
            <div class="form-group"><label for="edit-fullname">Ad Soyad</label><input type="text" id="edit-fullname" placeholder="Adƒ±nƒ±z ve soyadƒ±nƒ±z"></div>
            <div class="form-group"><label for="edit-birthdate">Doƒüum Tarihi</label><input type="date" id="edit-birthdate"></div>
            
            
            <div class="form-actions">
                <button class="submit-btn" id="save-profile-btn">Deƒüi≈üiklikleri Kaydet</button>
                <button class="cancel-btn" id="cancel-edit-btn">ƒ∞ptal</button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="settings-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Ayarlar</h3>
                <div class="close-btn" id="close-settings">√ó</div>
            </div>
            <div class="settings-list">
                <div class="setting-item">
                    <i class="fas fa-moon"></i>
                    <span>Karanlƒ±k Mod</span>
                    <label class="switch">
                        <input type="checkbox" id="dark-mode-switch">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="setting-item" style="color: #ff4757;">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>√áƒ±kƒ±≈ü Yap</span>
                </div>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <script src="firebase-init.js"></script>
    <script src="script.js"></script>
    <script src="top-nav.js"></script>
    <script src="nav-bar.js"></script>
    <script src="account.js"></script>
    <script src="feed.js"></script>
    <script src="filters.js"></script>
</body>
</html>
